<?xml version="1.0" encoding="UTF-8" ?>  
<!DOCTYPE mapper PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN"      
    "http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd">

<mapper namespace="cn.tedu.store.mapper.AddressMapper">
	
	<!-- /**
	 * 增加新的收货地址数据
	 * @param address
	 * @return
	 */
	Integer addnew(Address address); -->
	<insert id="addnew" parameterType="cn.tedu.store.entity.Address" 
	keyProperty="id" useGeneratedKeys="true">
	
		INSERT INTO t_address(
		  uid,name,province,
		  city,area,district,
		  zip,address,phone,
		  tel,tag,is_default,
		  created_user, created_time,
          modified_user, modified_time
		) VALUES (
		  #{uid},#{name},
		  #{province},
		  #{city},#{area},
		  #{district},#{zip},
		  #{address},#{phone},
		  #{tel},#{tag},
		  #{isDefault},
		  #{createdUser}, #{createdTime},
          #{modifiedUser}, #{modifiedTime}
		)
	</insert>
	
	<!-- 
		/**
	 * 根据用户id获取该用户收货地址数据的数量
	 * @param uid 用户id
	 * @return
	 */
	Integer getCountByUid(Integer uid);
	 -->
	<select id="getCountByUid" resultType="java.lang.Integer">
		SELECT COUNT(id)
		from 
			t_address
		where 
			uid=#{uid}
	</select>
	
	
</mapper>